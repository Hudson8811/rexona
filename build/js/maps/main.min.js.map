{"version":3,"sources":["main.js"],"names":["WheelIndicator","Module","options","DEFAULTS","callback","elem","document","preventMouse","this","eventWheel","_options","extend","_deltaArray","_isAcceleration","_isStopped","_direction","_timer","_isWorking","type","handler","self","_wheelHandler","event","processDelta","call","window","preventDefault","returnValue","addEventListener","attachEvent","triggerEvent","direction","prototype","constructor","turnOn","turnOff","setOptions","getOption","option","neededOption","undefined","Error","destroy","removeEventListener","detachEvent","getDeltaY","wheelDelta","deltaY","delta","i","arrayLength","length","changedDirection","repeatDirection","clearTimeout","setTimeout","Math","abs","analyzeArray","shift","push","deltaArray0Abs","deltaArray1Abs","deltaArray2Abs","deltaAbs","defaults","prop","extended","Object","hasOwnProperty","setActiveBlock","selector","querySelector","classList","add","moveToTargetBlock","scrollIntoView","behavior","block","chooseYourCharacter","hero","1","name","declension","position","photo","story","answers","storyEnding","correct","wrong","advise","rexona","2","3","4","5","exports","module","maxTextLength","fillText","text","readable","begining","substring","ending","innerHTML","style","display","textContent","fillPhoto","src","alt","fillQuestionBlock","getElementById","buttons","querySelectorAll","forEach","item","index","fillAnswerBlock","answer","storyTitle","togglerText","navigation","SECTIONS","selectedHero","currentSection","indicator","e","contains","target","closest","tagName","toLowerCase","dataset","checked","remove","nav","setActiveSection","sections","current","calcResult","array","max","resultKey","key","postData","body","fetch","method","headers","Content-Type","JSON","stringify","quiz","RESULTS","title","result","resultTitle","resultText","modal","modalRegistration","modalLoader","modalAfter","modalError","form","activeSection","value","formData","FormData","then","response","status","json","data","error_no","error_text","catch","error","console"],"mappings":"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","file":"../main.min.js","sourcesContent":["// ./../../node_modules/jquery/dist/jquery.min.js\r\n\r\n/**\r\n * Generates event when user makes new movement (like a swipe on a touchscreen).\r\n * @version 1.2.0\r\n * @link https://github.com/Promo/wheel-indicator\r\n * @license MIT\r\n */\r\n\r\n/* global module, window, document */\r\n\r\nvar WheelIndicator = (function() {\r\n    function Module(options) {\r\n        var DEFAULTS = {\r\n            callback: function(){},\r\n            elem: document,\r\n            preventMouse: true\r\n        };\r\n\r\n        this.eventWheel = 'onwheel' in document ? 'wheel' : 'mousewheel';\r\n        this._options = extend(DEFAULTS, options);\r\n        this._deltaArray = [ 0, 0, 0 ];\r\n        this._isAcceleration = false;\r\n        this._isStopped = true;\r\n        this._direction = '';\r\n        this._timer = '';\r\n        this._isWorking = true;\r\n\r\n        var self = this;\r\n        this._wheelHandler = function(event) {\r\n            if (self._isWorking) {\r\n                processDelta.call(self, event);\r\n\r\n                if (self._options.preventMouse) {\r\n                    preventDefault(event);\r\n                }\r\n            }\r\n        };\r\n\r\n        addEvent(this._options.elem, this.eventWheel, this._wheelHandler);\r\n    }\r\n\r\n    Module.prototype = {\r\n        constructor: Module,\r\n\r\n        turnOn: function(){\r\n            this._isWorking = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        turnOff: function(){\r\n            this._isWorking = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        setOptions: function(options){\r\n            this._options = extend(this._options, options);\r\n\r\n            return this;\r\n        },\r\n\r\n        getOption: function(option){\r\n            var neededOption = this._options[option];\r\n\r\n            if (neededOption !== undefined) {\r\n                return neededOption;\r\n            }\r\n\r\n            throw new Error('Unknown option');\r\n        },\r\n\r\n        destroy: function(){\r\n            removeEvent(this._options.elem, this.eventWheel, this._wheelHandler);\r\n\r\n            return this;\r\n        }\r\n    };\r\n\r\n    function triggerEvent(event){\r\n        event.direction = this._direction;\r\n\r\n        this._options.callback(event);\r\n    }\r\n\r\n    var getDeltaY = function(event){\r\n        if (event.wheelDelta && !event.deltaY) {\r\n            getDeltaY = function(event) {\r\n                return event.wheelDelta * -1;\r\n            };\r\n        } else {\r\n            getDeltaY = function(event) {\r\n                return event.deltaY;\r\n            };\r\n        }\r\n\r\n        return getDeltaY(event);\r\n    };\r\n\r\n    function preventDefault(event){\r\n        event = event || window.event;\r\n\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        } else {\r\n            event.returnValue = false;\r\n        }\r\n    }\r\n\r\n    function processDelta(event) {\r\n        var\r\n            self = this,\r\n            delta = getDeltaY(event);\r\n\r\n        if (delta === 0) return;\r\n\r\n        var direction = delta > 0 ? 'down' : 'up',\r\n            arrayLength = self._deltaArray.length,\r\n            changedDirection = false,\r\n            repeatDirection = 0,\r\n            sustainableDirection, i;\r\n\r\n        clearTimeout(self._timer);\r\n\r\n        self._timer = setTimeout(function() {\r\n            self._deltaArray = [ 0, 0, 0 ];\r\n            self._isStopped = true;\r\n            self._direction = direction;\r\n        }, 150);\r\n\r\n        //check how many of last three deltas correspond to certain direction\r\n        for(i = 0; i < arrayLength; i++) {\r\n            if(self._deltaArray[i] !== 0) {\r\n                self._deltaArray[i] > 0 ? ++repeatDirection : --repeatDirection;\r\n            }\r\n        }\r\n\r\n        //if all of last three deltas is greater than 0 or lesser than 0 then direction is switched\r\n        if (Math.abs(repeatDirection) === arrayLength) {\r\n            //determine type of sustainable direction\r\n            //(three positive or negative deltas in a row)\r\n            sustainableDirection = repeatDirection > 0 ? 'down' : 'up';\r\n\r\n            if(sustainableDirection !== self._direction) {\r\n                //direction is switched\r\n                changedDirection = true;\r\n                self._direction = direction;\r\n            }\r\n        }\r\n\r\n        //if wheel`s moving and current event is not the first in array\r\n        if (!self._isStopped){\r\n            if(changedDirection) {\r\n                self._isAcceleration = true;\r\n\r\n                triggerEvent.call(this, event);\r\n            } else {\r\n                //check only if movement direction is sustainable\r\n                if(Math.abs(repeatDirection) === arrayLength) {\r\n                    //must take deltas to don`t get a bug\r\n                    //[-116, -109, -103]\r\n                    //[-109, -103, 1] - new impulse\r\n\r\n                    analyzeArray.call(this, event);\r\n                }\r\n            }\r\n        }\r\n\r\n        //if wheel is stopped and current delta value is the first in array\r\n        if (self._isStopped) {\r\n            self._isStopped = false;\r\n            self._isAcceleration = true;\r\n            self._direction = direction;\r\n\r\n            triggerEvent.call(this, event);\r\n        }\r\n\r\n        self._deltaArray.shift();\r\n        self._deltaArray.push(delta);\r\n    }\r\n\r\n    function analyzeArray(event) {\r\n        var\r\n            deltaArray0Abs  = Math.abs(this._deltaArray[0]),\r\n            deltaArray1Abs  = Math.abs(this._deltaArray[1]),\r\n            deltaArray2Abs  = Math.abs(this._deltaArray[2]),\r\n            deltaAbs        = Math.abs(getDeltaY(event));\r\n\r\n        if((deltaAbs       > deltaArray2Abs) &&\r\n            (deltaArray2Abs > deltaArray1Abs) &&\r\n            (deltaArray1Abs > deltaArray0Abs)) {\r\n\r\n            if(!this._isAcceleration) {\r\n                triggerEvent.call(this, event);\r\n                this._isAcceleration = true;\r\n            }\r\n        }\r\n\r\n        if((deltaAbs < deltaArray2Abs) &&\r\n            (deltaArray2Abs <= deltaArray1Abs)) {\r\n            this._isAcceleration = false;\r\n        }\r\n    }\r\n\r\n    function addEvent(elem, type, handler){\r\n        if(elem.addEventListener) {\r\n            elem.addEventListener(type, handler, false);\r\n        } else if (elem.attachEvent) {\r\n            elem.attachEvent('on' + type, handler);\r\n        }\r\n    }\r\n\r\n    function removeEvent(elem, type, handler) {\r\n        if (elem.removeEventListener) {\r\n            elem.removeEventListener(type, handler, false);\r\n        } else if (elem.detachEvent) {\r\n            elem.detachEvent('on'+ type, handler);\r\n        }\r\n    }\r\n\r\n    function extend(defaults, options) {\r\n        var extended = {},\r\n            prop;\r\n\r\n        for (prop in defaults) {\r\n            if (Object.prototype.hasOwnProperty.call(defaults, prop)) {\r\n                extended[prop] = defaults[prop];\r\n            }\r\n        }\r\n\r\n        for (prop in options) {\r\n            if (Object.prototype.hasOwnProperty.call(options, prop)) {\r\n                extended[prop] = options[prop];\r\n            }\r\n        }\r\n\r\n        return extended;\r\n    }\r\n\r\n    return Module;\r\n}());\r\n\r\nif (typeof exports === 'object') {\r\n    module.exports = WheelIndicator;\r\n}\r\n/* eslint-disable object-shorthand */\r\n/* eslint-disable max-len */\r\n\r\nfunction setActiveBlock(selector) {\r\n  document.querySelector(selector).classList.add('active');\r\n}\r\nfunction moveToTargetBlock(selector) {\r\n  document.querySelector(selector).scrollIntoView({\r\n    behavior: 'smooth',\r\n    block: 'start',\r\n  });\r\n}\r\n/* eslint-disable max-len */\r\nfunction chooseYourCharacter(hero) {\r\n  const HEROES = {\r\n    '1': {\r\n      name: 'Юля Коваль',\r\n      declension: 'Юли',\r\n      position: 'блогер, путешественница',\r\n      photo: 'hero-1.jpg',\r\n      story: 'Неловких моментов не бывает только у тех, кто ничего не делает. В моем случае такие ситуации обычно происходят, когда я не могу рассчитать время и опаздываю на встречи, это заставляет меня испытывать стресс, нервничать и переживать. Приключений, когда у меня дрожали руки и бросало в пот, в жизни было много. Одна из таких ситуаций произошла во время съемок программы «Орел и решка», и она чуть не стоила мне и команде жизни. Мы спускались в шахту в Африке на глубину 1500 метров. Давили отсутствие воздуха и кромешная тьма. Еще бы, полтора километра вглубь нашей планеты! Там абсолютно не было никакого воздуха, было темно и страшно. Мы шли по маленькой самодельной лестнице — это была даже не лестница, а просто палки! И тут с грохотом во мраке взорвался динамит. ',\r\n      answers: ['Я сжала волю в кулак, сконцентрировалась и пошла вперед', 'Вместе с режиссером мы запаниковали, я дернулась и оступилась на лестнице' ],\r\n      storyEnding: {\r\n        correct: 'Режиссер нашей программы был в предынфарктном состоянии, его просто выносили. У меня сработал инстинкт самосохранения. Меня бросило в пот, руки дрожали. Иногда такое происходит у меня, когда лечу в самолете: несмотря на количество перелетов, я очень сильно боюсь летать. В шахте у меня случился настоящий стресс. Хотелось просто остаться в живых, не умереть ни от инфаркта, ни от завала в шахте. Однако там я увидела абсолютно другой мир. В шахте за $5 в месяц люди пашут так, как мы никогда в жизни не работали. Они рискуют жизнью каждый день. Поход туда того стоил — это опыт, это воспоминания. Приходить в себя было некогда, съемки продолжались. Когда я вышла из шахты, пришлось выбросить рубашку, она была насквозь мокрая и грязная. Воспользовалась дезодорантом «Рексона» и пошла дальше — забираться на вулкан.',\r\n        wrong: 'С жутким треском сломалась перекладина. В абсолютной темноте и задымлении я упала в какую-то расщелину и повредила ногу. Оператор оказался проворнее и полез к выходу. Уже на улице он вызвал службу спасения. Специалисты ехали долго, зато вытащили нас с режиссером из шахты всего за 15 минут. Съемки прервались из-за вывихнутой ноги и перелома руки. Это была просто катастрофа!',\r\n      },\r\n      advise: {\r\n        hero: 'Ко всем съемкам и мероприятиям я готовлюсь и настраиваюсь заранее. Учитывая свою активность, эмоциональность и эмпатичность, я не могу назвать себя Мисс Самообладание — 2021, мне еще предстоит постигнуть эту прекрасную черту характера. Даже сейчас, рассказывая про то, как справиться со стрессом, я чувствую, что испытываю его. Вряд ли в ближайшее время я запущу марафон, как выходить из сложных и неловких ситуаций. Реально рабочая схема — это в трудной стрессовой ситуации построить себе дорожную карту. Важно не хвататься сразу за всё, а выбрать дело, которое важнее и проще сделать, удобнее решить именно сейчас, и выстраивать план, постепенно выполняя все дела. В целом я достаточно часто сталкиваюсь со стрессом на работе, в путешествиях и в личной жизни — в такие моменты я концентрируюсь и не допускаю паники. Также я стараюсь чаще улыбаться: хорошее настроение 100%-но добавляет красок в жизнь и снижает стресс.',\r\n        rexona: 'Если вы часто путешествуете, то точно сталкиваетесь с перепадами температур. Специально для таких ситуаций была создана новинка — «Rexona Термозащита». Технология Motionsense в антиперспирантах способствует освобождению дополнительного аромата при повышении влаги, а оболочка водорастворимых микрокапсул с капельками эфирных масел внутри растворяется при выделении пота. Неприятный запах заменяется приятными душистыми веществами, которые чувствуются активнее при интенсивном движении. Будь то забег по шахтам или прыжок с парашютом, умные антиперспиранты линейки «RexonaТермозащита» обеспечивают постоянную защиту от влаги и защиту от пота и запаха в течение дня. Особенно актуальна линейка будет в зимний период, когда есть резкие перепады из теплого помещения на холод и обратно.',\r\n      },\r\n    },\r\n    '2': {\r\n      name: 'Дарья Смирнова',\r\n      declension: 'Даши',\r\n      position: 'преподаватель английского языка, блогер, эксперт-лингвист',\r\n      photo: 'hero-2.jpg',\r\n      story: 'Не знаю, насколько это стрессовая история, но неловкая точно. В то время я еще ездила к своим ученикам, а не занималась онлайн. Я приезжаю к одному ученику, который был в 8-м или 9-м классе тогда. Приехала, провела урок, уехала. Приезжаю на второй или третий урок к нему, и он достает планшет, чтобы ответить домашнее задание. И тут я вижу, что у него весь iPad забит моими фотографиями.',\r\n      answers: [ 'Возможно, у меня и округлились глаза, но я постаралась не подать виду', 'Я запаниковала и решила выяснить отношения с учеником' ],\r\n      storyEnding: {\r\n        correct: 'Мы проверили домашнее задание, урок прошел как ни в чем не бывало, но к нему я больше не ездила. Родителям сказала, что у меня настолько переполнено расписание, что, к сожалению, они поздно обратились, а я отдаю предпочтение старым клиентам.',\r\n        wrong: 'Урок сорвался. Родители не поняли, что произошло, не заплатили за занятие, а ребенок остался с разбитым сердцем. В такой неловкой ситуации было бы лучше сохранить самообладание, но у меня не получилось.',\r\n      },\r\n      advise: {\r\n        hero: 'Я бы не назвала себя хладнокровным человеком, но, мне кажется, это вопрос моей деятельности — она связана с умением спокойно все объяснять и легко доносить информацию. В любой стрессовой ситуации я спокойна, представляя, будто я на уроке. После уже может быть катастрофа, но во время неловких ситуаций я абстрагируюсь. Также важно ценить себя и свое время. Однажды мы сидели в кафе со знакомыми и друзьями, и тут один парень начал рассказывать, что очень хочет заняться английским языком, и я уже поняла, к чему идет дело. Я стараюсь с друзьями не заниматься, потому что разделяю работу и личные контакты. Конечно же, он говорит, что хотел бы со мной заниматься, спрашивает, сколько стоит занятие. Я отвечаю, он удивляется, что так дорого. И говорит: «А ты скидку не можешь сделать? Мы же знакомые!» После того случая у меня выработался один ответ на такие просьбы. Я всегда отвечаю: «Ну раз мы друзья, может, ты мне больше заплатишь?» Иногда стрессовые ситуации зависят не от тебя: например, когда я была совсем зеленой, меня пригласили в Google поработать переводчиком на интервью с Джейсоном Стейтемом. Я думала, что он меня не понимает, когда переводила вопросы, а оказалось, что не работало оборудование, а не мой английский.',\r\n        rexona: 'Чтобы выглядеть холоднокровно в любой ситуации, попробуйте Rexona Clinical Protection. Антиперспирант в три раза эффективнее базового антиперспиранта согласно тестам. Уникальная технология Defence+ образует микропленку на поверхности кожи, которая защищает от пота и запаха до 96 часов и регулирует повышенное потоотделение даже в экстремальных ситуациях: например, при серьезном стрессе, жаре и во время спорта.',\r\n      },\r\n    },\r\n    '3': {\r\n      name: 'Анастасия Постригай',\r\n      declension: 'Насти',\r\n      position: 'искусствовед, основатель самой крупной в России онлайн-школы по изучению истории искусства OP-POP-ART',\r\n      photo: 'hero-3.jpg',\r\n      story: 'Лето в Москве выдалось крайне жарким, но на мою активность это не повлияло — нужно было много двигаться и работать. Этим летом мы снимали видео для моего канала на YouTube, были интересные истории, много активности и образов. Естественно, съемки проходят в студии при закрытых окнах, вентилятор включить невозможно, это гарантированный брак по звуку. То есть если на улице плюс 30, то у нас в студии уже почти преисподняя. И так 7–8 часов подряд. Я на съемки, понятно, принарядилась, не подумав, что эта жара и движения не пощадят даже такую не потеющую девушку, как я. Стало ясно, что на блузке останутся следы, значит, надо что-то делать. Моя гример предложила лайфхак: наклеить на подмышки ежедневные прокладки, чтобы избежать конфуза в эфире. Совместными усилиями создали грандиозную многосоставную конструкцию, которая с честью выполнила свою функцию — блузку мы сохранили в первозданном виде, запись прошла отлично, несмотря на жару и мою активную жестикуляцию. Как только выдалась возможность, я вырвалась из душной студии и побежала в коридор, где было чуть-чуть прохладнее. Иду, размахиваю руками, чтобы хоть немного охладиться. Мне навстречу — молодой человек. Как только мы поравнялись, прямо из рукава моей блузки выпадает та самая злосчастная конструкция из ежедневных прокладок и планирует ему под ноги!',\r\n      answers: [ 'Обычно я не краснею, но тут, кажется, сделалась пунцовой. Правда быстро взяла себя в руки и, практически не думая, выпалила: «После того, что вы увидели, теперь, видимо, должны на мне жениться!', 'Я пискнула и ретировалась' ],\r\n      storyEnding: {\r\n        correct: 'Уж не знаю, что он там подумал, может, решил, что я ненормальная, но виду не подал. Мы посмеялись и разошлись каждый в свою сторону. Думаю, что только чувство юмора спасло меня от последующей рефлексии и неприятного осадка, который обычно оставляют такие щекотливые ситуации.',\r\n        wrong: 'Жуткий конфуз! Пришлось бежать с места преступления! До сих пор вспоминаю, и мне неловко. Момент, который часто всплывает, когда пытаешься уснуть. У каждого есть такая ситуация, которая всегда не вовремя всплывает в памяти!',\r\n      },\r\n      advise: {\r\n        hero: 'Я всегда стараюсь выходить из неловких ситуаций с юмором. Это гораздо лучше, чем шаркать ножкой, извиняться, еще больше усугубляя неловкость. Обычно у меня получается разрядить обстановку шуткой. Если я знаю, что мне предстоит стрессовая ситуация — сложные переговоры или еще что-то не сильно приятное, — я стараюсь заранее представить самый страшный и драматичный вариант ее развития, посмотреть на него со всех сторон. Обычно после такого анализа приходишь к выводу, что глобально ничего такого ужасного, даже если все пойдет наперекосяк, нет. Это можно пережить, если все живы и здоровы. Это помогает мне настроиться и пережить грядущий стресс. Конечно, как у всех, бывает и такое, что с эмоциями справиться не получается. Тогда я договариваюсь с собой. Позволяю себе выплескивать негатив, но недолго, минут десять. А потом беру себя в руки, потому что понимаю, что если позволю себе нервничать дольше, то потом мне это аукнется бессонницей, головной болью и прочими неврозами. А оно мне надо? Могу сказать честно: я, как и любой человек, с завидной регулярностью попадаю в самые разные, не всегда приятные ситуации. Но, как говорится, если нельзя победить — возглавь! И в этом мне помогают вера, дисциплина и чувство юмора.',\r\n        rexona: 'Спасти дизайнерское платье или другую одежду от следов и разводов в любых стрессовых ситуациях поможет антиперспирант-аэрозоль Rexona «Антибактериальная и невидимая защита». Он защищает от пота и запаха на 48 часов, помогает черному оставаться черным, а белому — белым, чтобы модная одежда выглядела опрятно и красиво в любой ситуации. Антиперспирант защищает от бактерий и не раздражает нежную кожу в зоне подмышек. Кстати, спрей и карандаш можно использовать и для ног, чтобы предотвратить пот, избежать натирания и чувствовать свежесть.',\r\n      },\r\n    },\r\n    '4': {\r\n      name: 'Ольга Панасенкова',\r\n      declension: 'Оли',\r\n      position: 'основательница и руководитель нейл-студии Ananasnails, топ-мастер маникюра',\r\n      photo: 'hero-4.jpg',\r\n      story: 'Однажды я была в отпуске в Казани, а новый мастер написала, что не может выйти на работу — у нее полная запись на весь день с 11 утра до 10 вечера. Я была на озере под названием Кабан и каталась на лодке. Отпуск у меня бывает редко, и я стараюсь проводить его активно: больше двигаться, смотреть новые места и открывать для себя разные заведения и развлечения. То, что произошло, повергло меня в шок. В момент сообщения мастера в 23:00 в голове начали бурлить мысли: «Ты в себе вообще? Что за отношение? Ведь сколько раз я шла навстречу, почему так? И договор был: в случае мысли про увольнение отработать обязательно последние дни, где полная запись». Заменить никто не может, все сотрудники заняты. Либо я срочно ищу билет и вылетаю в Москву, чтобы самостоятельно обслужить клиентов, либо обзваниваю их и отменяю. Хотелось плакать или кричать. Единственное, что я смогла выдавить из себя сквозь зубы, были слова: «Спасибо за такое отношение». Рефлексировать долго над ситуацией было нельзя, я злилась и прокручивала в голове варианты решения. Романтическая поездка на лодке стала совсем не романтичной. Что делать? Я понимала, что никак нельзя падать лицом в грязь, и имидж очень важен. Пока я металась, начался дождь. Я в середине озера на лодке, никого рядом. Можно еще больше стресса в этой ситуации? Теперь стоял выбор: утонуть с лодкой или спастись и отменять запись.',\r\n      answers: [ 'Вдох-выдох. Я дождалась, когда закончится паника, и спокойно двинулась к берегу', 'Поддавшись панике, я закричала: «Помогите, я так больше не могу!»' ],\r\n      storyEnding: {\r\n        correct: 'Постепенно дождь пошел на спад, как и накал моих эмоций. Пришлось звонить клиентам лично, но уже утром. Я приносила извинения, что было очень неловко: терпеть не могу извиняться за других, но я несу ответственность. Когда с клиентами на связь выходит владелец салона, то их лояльность гораздо лучше. Клиенты были в шоке не меньше меня, все пошли навстречу. Одной девушке пришлось сделать огромную скидку, чтобы сохранить хорошее отношение. Да, я разово потеряла немного в деньгах, но знала, что так будет лучше. Отношение и честность решают всё. Все с пониманием к этому отнеслись и перенесли запись на другой день, всё сделали, всем довольны. Безвыходных ситуаций не бывает. Было очень тревожно, потому что люди могли реагировать разным образом, не хотелось, чтобы ситуация как-то сказалась на имидже студии.',\r\n        wrong: 'В лодке был спасательный жилет, но воду выгребать было нечем. Дрожащими руками стала набирать номер службы спасения. Когда меня забрали спасатели, я выдохнула и собралась с мыслями. Сойдя на берег, я поехала в аэропорт искать билет. Ближайший вылет, на который доступны билеты, был только утром. Плюс время в пути. Так или иначе я везде опаздывала, оставалось лишь вечернее время для обслуживания клиентов моего мастера. Саму девушку пришлось уволить из-за такой безответственности, а мне — пожертвовать редким отпуском. Не утонула, и на том спасибо!',\r\n      },\r\n      advise: {\r\n        hero: 'К стрессам я привыкла. Например, пробки на дорогах, и я понимаю, что меня будет ждать клиент. Естественно, я сначала предупреждаю человека, понимаю, что реакция может быть абсолютно разной. Чаще адекватная. Бывали случаи, что человеку неудобно, тогда я делала большую скидку и переносила сеанс на любое другое удобное время. Все бывает, иногда и к нам опаздывают клиенты, тогда мы тоже идем навстречу. Стрессовые ситуации несильно выводят меня из себя, нахожу решение очень быстро. Важно собраться и не теряться, каждый вопрос абсолютно решаем. Как работодатель я часто провожу собеседования и не всегда понимаю, как выстроить коммуникацию или, например, отказать человеку. В музыкальной школе еще в подростковом возрасте у меня дрожали руки, и преподаватель говорила: «Бойтесь перед сценой, но не на сцене». Это всегда работает! Если ты нервничаешь, лучше в этот момент ничего не делать, с горячей головой можно натворить дел. Лучше взять небольшую паузу и потом решить вопрос, например, после того как подышал — есть специальная техника дыхания.',\r\n        rexona: 'Абсолютная уверенность и гибкость — вот то, что отличает хорошего руководителя от остальных. Антиперспирант «Rexona Абсолютная уверенность» подстроится под любой ритм вашей жизни. Вместе с защитой от пота и запаха в течение 48 часов технология Motionsense дарит ощущение свежести, а микрокапсулы, нанесенные на поверхность кожи, раскрываются при каждом движении. Вместо пота средство дарит приятный аромат грейпфрута и яблока. Чем больше движения и работы, тем надежнее защита. «Абсолютная уверенность» нужна, чтобы освободить мысли от неловких ситуаций и заботы о внешнем виде и сосредоточиться на главном — достижении новых целей!',\r\n      },\r\n    },\r\n    '5': {\r\n      name: 'Анна Захарова',\r\n      declension: 'Ани',\r\n      position: 'актриса театра и кино, хореограф',\r\n      photo: 'hero-5.jpg',\r\n      story: 'Мы с мужем часто путешествуем, и прошлым летом решили открыть для себя Алтай. В тех краях без машины никуда, поэтому мы арендовали джип. Муж у меня без прав (водительских, конечно), поэтому за рулем все 2500 км была я. Спасибо возможностям внедорожника, так как мы были даже на тех «диких» дорогах, на которые изначально не собирались: перевал Кату-Ярык и долина Чулышмана, вам привет! Все путешествие шло как по маслу. Но в последний день… В последний день мы решили увидеть «всё, что не успели», и рванули на гору Чёртов палец. Ох, какая же она оказалась для меня Чёртова! Крадёмся на машине наверх, дорога разбита, ямы, мимо лихо мчатся уазики, но я не спешу, доезжаем почти до верха, решаем оставить машину и пройти пешком. Сходили, сделали фотографии, пора возвращаться. Но… нужно развернуться. А там обрыв. Я, нисколько не сомневаясь в своих навыках вождения, сажусь, делаю привычные движения и понимаю, что машина начинает скатываться с горы задом в этот обрыв. Она мне не поддается. Начинаю паниковать (внимание) не потому, что мы в ней, а потому, что она арендована, а как же мы ее вернем, если она в обрыв скатится? Резко тормоз. Резко ручник. Холодный пот.',\r\n      answers: [ 'Вдох-выдох. Выключаю всё, закрываю глаза и думаю, что делать', 'Муж закричал, я запаниковала и начала резко двигаться' ],\r\n      storyEnding: {\r\n        correct: 'Вокруг ни души. Видимость почти нулевая (мимо проехавшие до этого уазики оставили свой след). Сердце колотится страшно, но нужно перестать паниковать. Мои медитативные рассуждения, холодный ум и упорство Козерога привели к мысли, что полный привод после такого большого пути просто не может подвести, и я справлюсь. На третьей попытке мы буквально выкарабкались из этого обрыва. Далее почти всю дорогу до города от избытка чувств и усталости у меня катились градом слезы, остаток пути сопровождал очень отборный мат',\r\n        wrong: 'От резких движений машина продолжает скатываться в неизвестность, вокруг туман и никого. В итоге все закончилось службой спасения и разбитой машиной. И остаток отпуска мы провели в больнице.',\r\n      },\r\n      advise: {\r\n        hero: 'Собраться и не опускать руки — лучшее, что можно сделать в любой стрессовой ситуации. Идеально — взять паузу на пару минут, перевести дыхание и подумать, как выйти из сомнительной ситуации. Главное, помнить, что всегда есть решение.',\r\n        rexona: 'В самых стрессовых ситуациях для творческих и чувствительных натур подойдет антиперспирант или дезодорант «Rexona Гипоаллергенный без запаха». Он защищает на 48 часов, и будет действовать, даже если вы застрянете надолго в сломанном лифте или в дорожной колее. Средство не содержит спирта, красителей и парабенов, не перебивает запах ваших духов и подходит для людей, склонных к аллергии и раздражениям кожи.',\r\n      },\r\n    },\r\n  };\r\n\r\n  return HEROES[hero];\r\n}\r\n/* eslint-disable max-len */\r\n\r\nconst maxTextLength = 170;\r\n\r\nfunction fillText(text, elem, story = false, readable = false) {\r\n  if (!story) {\r\n    elem.textContent = text;\r\n  } else {\r\n    if (text.length > maxTextLength) {\r\n      const begining = text.substring(0, maxTextLength),\r\n        ending = text.substring(maxTextLength);\r\n\r\n      elem.querySelector('p').innerHTML = `<span class=\"story-item__text\">${begining}</span><span class=\"story-item__dots\">...</span><span class=\"story-item__hidden\">${ending}</span>`;\r\n\r\n      if (!readable) {\r\n        elem.querySelector('.js-more').style.display = 'block';\r\n      }\r\n    } else {\r\n      elem.querySelector('p').textContent = text;\r\n    }\r\n  }\r\n}\r\nfunction fillPhoto(photo, name, position, elem) {\r\n  elem.src = `./images/${photo}`;\r\n  elem.alt = `${name} — ${position}`;\r\n}\r\nfunction fillQuestionBlock(hero) {\r\n  const block = document.getElementById('question'),\r\n    photo = block.querySelector('img'),\r\n    name = block.querySelector('.question-story__person-name'),\r\n    position = block.querySelector('.question-story__person-position'),\r\n    story = block.querySelector('.question-story__item'),\r\n    buttons = block.querySelectorAll('.question-answers__buttons-item');\r\n\r\n  fillPhoto(hero.photo, hero.name, hero.position, photo);\r\n\r\n  fillText(hero.name, name);\r\n  fillText(hero.position, position);\r\n  fillText(hero.story, story, true);\r\n\r\n  buttons.forEach((item, index) => {\r\n    item.querySelector('.question-answers__buttons-text').textContent = hero.answers[index];\r\n  });\r\n}\r\nfunction fillAnswerBlock(hero, answer) {\r\n  const block = document.getElementById('answer'),\r\n    photo = block.querySelector('img'),\r\n    name = block.querySelector('.answer-story__person-name'),\r\n    position = block.querySelector('.answer-story__person-position'),\r\n    story = block.querySelector('.answer-story__item'),\r\n    storyTitle = story.querySelector('.answer-story__item-title'),\r\n    advise = block.querySelector('.answer-advise'),\r\n    togglerText = block.querySelector('.switch__toggler-text--hero');\r\n\r\n  fillPhoto(hero.photo, hero.name, hero.position, photo);\r\n  fillText(hero.name, name);\r\n  fillText(hero.position, position);\r\n\r\n  if (answer === 'correct') {\r\n    storyTitle.textContent = 'Так и было!';\r\n\r\n    fillText(hero.storyEnding.correct, story, true);\r\n  } else {\r\n    storyTitle.textContent = 'Было не так';\r\n\r\n    fillText(hero.storyEnding.wrong, story, true);\r\n  }\r\n\r\n  fillText(hero.declension, togglerText);\r\n\r\n  fillText(hero.advise.hero, advise, true);\r\n}\r\n\r\nfunction navigation() {\r\n  const SECTIONS = [ '#first', '#heroes', '#question', '#answer', '#quiz' ];\r\n\r\n  let selectedHero = {},\r\n    currentSection = 0;\r\n\r\n  const getSectionIndex = elem => {\r\n    for (const key in SECTIONS) {\r\n      console.log(key);\r\n      if (SECTIONS[key] === elem) return key;\r\n    }\r\n  };\r\n\r\n  const indicator = new WheelIndicator({\r\n    elem: document.querySelector('.main'),\r\n    // preventMouse: true,\r\n    callback: function(e) {\r\n      if (e.direction === 'down') {\r\n        if (currentSection < SECTIONS.length - 1) {\r\n          if (document.querySelector(SECTIONS[currentSection + 1]).classList.contains('active')) {\r\n            currentSection++;\r\n\r\n            moveToTargetBlock(SECTIONS[currentSection]);\r\n          }\r\n        }\r\n      } else if (e.direction === 'up') {\r\n        if (currentSection > 0) {\r\n          currentSection--;\r\n\r\n          moveToTargetBlock(SECTIONS[currentSection]);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  document.addEventListener('mouseover', e => {\r\n    if (e.target.closest('.js-scrollable')) {\r\n      indicator._options.preventMouse = false;\r\n    } else {\r\n      indicator._options.preventMouse = true;\r\n    }\r\n  });\r\n\r\n  document.querySelectorAll('.js-scrollable').forEach(item => {\r\n    item.addEventListener('mouseleave', () => {\r\n      if (item.classList.contains('question-story__item-text')) {\r\n        currentSection = 2;\r\n      }\r\n\r\n      if (item.classList.contains('answer-story__item-text') || item.classList.contains('answer-advise__text')) {\r\n        currentSection = 3;\r\n      }\r\n    });\r\n  });\r\n\r\n  document.addEventListener('click', e => {\r\n    if (e.target.classList.contains('js-nav')) {\r\n      if (e.target.tagName.toLowerCase() === 'a') {\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.target.dataset.target) {\r\n        document.querySelectorAll('.js-radio').forEach(item => {\r\n          item.checked = false;\r\n        });\r\n\r\n        if (document.querySelector('.readable')) {\r\n          document.querySelectorAll('.readable').forEach(item => {\r\n            item.classList.remove('readable');\r\n\r\n            item.querySelector('.js-more').style.display = 'block';\r\n          });\r\n        }\r\n\r\n        document.getElementById('answer').classList.remove('active');\r\n\r\n        selectedHero = chooseYourCharacter(e.target.dataset.target);\r\n\r\n        fillQuestionBlock(selectedHero);\r\n      }\r\n\r\n      if (e.target.dataset.answer) {\r\n        fillAnswerBlock(selectedHero, e.target.dataset.answer);\r\n      }\r\n\r\n      if (!e.target.classList.contains('answer-advise__another')) {\r\n        setActiveBlock(e.target.dataset.nav);\r\n        currentSection++;\r\n      } else {\r\n        currentSection = 1;\r\n      }\r\n\r\n      setTimeout(() => {\r\n        moveToTargetBlock(e.target.dataset.nav);\r\n      }, 200);\r\n    }\r\n\r\n    if (e.target.classList.contains('js-more')) {\r\n      e.preventDefault();\r\n\r\n      e.target.style.display = 'none';\r\n      e.target.closest('.js-more-parent').classList.add('readable');\r\n    }\r\n\r\n    if (e.target.classList.contains('js-advise-toggler')) {\r\n      const advise = e.target.closest('.answer-advise'),\r\n        readable = (e.target.closest('.answer-advise').querySelector('.js-more').style.display === 'none') ? true : false;\r\n\r\n      if (e.target.checked) {\r\n        fillText(selectedHero.advise.rexona, advise, true, readable);\r\n      } else {\r\n        fillText(selectedHero.advise.hero, advise, true, readable);\r\n      }\r\n    }\r\n  });\r\n}\r\n/* eslint-disable max-len */\r\nfunction setActiveSection(sections, current) {\r\n  sections.forEach((item, index) => {\r\n    if (index !== current) {\r\n      item.classList.remove('active');\r\n    } else {\r\n      item.classList.add('active');\r\n    }\r\n  });\r\n}\r\nfunction calcResult(array) {\r\n  const answers = {};\r\n\r\n  let max = 0,\r\n    resultKey = '';\r\n\r\n  array.forEach(item => {\r\n    if (answers[item]) {\r\n      answers[item]++;\r\n    } else {\r\n      answers[item] = 1;\r\n    }\r\n  });\r\n\r\n  for (const key in answers) {\r\n    if (answers[key] > max) {\r\n      max = +answers[key];\r\n      resultKey = key;\r\n    }\r\n  }\r\n\r\n  return resultKey;\r\n}\r\nfunction postData(body) {\r\n  return fetch('/save_form/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n}\r\n\r\nfunction quiz() {\r\n  const RESULTS = {\r\n    '1': {\r\n      title: 'Выиграйте подарок для настоящей карьеристки!',\r\n      text: 'Кажется, пошатнуть ваше внутреннее равновесие могут только рабочие вопросы. Карьера — дело тонкое, берегите себя! Почувствовать себя уверенно в любой ситуации поможет подарок от Rexona!',\r\n    },\r\n    '2': {\r\n      title: 'Выиграйте подарок для экстремалки!',\r\n      text: 'Больше адреналина и вдохновения! Ваше тело явно требует новых впечатлений, и ничто не должно мешать ими наслаждаться. Почувствовать себя уверенно в любой ситуации поможет подарок от Rexona!',\r\n    },\r\n    '3': {\r\n      title: 'Выиграйте подарок для романтической натуры!',\r\n      text: 'Вы натура утонченная, как героини песен Валерия Меладзе. Девушка из высшего общества должна наслаждаться романтикой и красотой момента, а не страдать в поте лица. Почувствовать себя уверенно в любой ситуации поможет подарок от Rexona!',\r\n    },\r\n    '4': {\r\n      title: 'Выиграйте подарок для истинной модницы!',\r\n      text: 'Разные носки иногда хорошо сочетаются и придают образу изюминку. Меньше стресса и тревоги, тогда точно покорите модный Олимп! Почувствовать себя уверенно в любой ситуации поможет подарок от Rexona!',\r\n    },\r\n  };\r\n\r\n  const quiz = document.getElementById('quiz'),\r\n    sections = quiz.querySelectorAll('.quiz-sections__item'),\r\n    result = document.getElementById('result'),\r\n    resultTitle = quiz.querySelector('.quiz-reg__title'),\r\n    resultText = quiz.querySelector('.quiz-reg__text'),\r\n    answers = [],\r\n    modal = document.querySelector('.quiz-reg__modal'),\r\n    modalRegistration = modal.querySelector('.quiz-modal__first'),\r\n    modalLoader = modal.querySelector('.quiz-modal__loader'),\r\n    modalAfter = modal.querySelector('.quiz-modal__after'),\r\n    modalError = modal.querySelector('.quiz-modal__error'),\r\n    form = quiz.querySelector('form');\r\n\r\n  let activeSection = 0;\r\n\r\n  quiz.addEventListener('click', e => {\r\n    if (e.target.classList.contains('quiz-index__button-item')) {\r\n      e.preventDefault();\r\n\r\n      activeSection++;\r\n      setActiveSection(sections, activeSection);\r\n    }\r\n\r\n    if (e.target.classList.contains('quiz-answer__input')) {\r\n      activeSection++;\r\n\r\n      answers.push(e.target.dataset.value);\r\n\r\n      if (activeSection === sections.length - 1) {\r\n        resultTitle.textContent = RESULTS[calcResult(answers)].title;\r\n        resultText.textContent = RESULTS[calcResult(answers)].text;\r\n        result.value = calcResult(answers);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        setActiveSection(sections, activeSection);\r\n      }, 300);\r\n    }\r\n\r\n    if (e.target.classList.contains('quiz-reg__cta-button')) {\r\n      e.preventDefault();\r\n\r\n      modal.classList.add('active');\r\n    }\r\n\r\n    if (e.target.classList.contains('quiz-modal__overlay') || e.target.classList.contains('quiz-modal__close')) {\r\n      modal.classList.remove('active');\r\n    }\r\n\r\n    // console.log(e.target);\r\n  });\r\n\r\n  form.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    modalRegistration.style.display = 'none';\r\n    modalLoader.style.display = 'block';\r\n\r\n    const formData = new FormData(form),\r\n      body = {};\r\n\r\n    formData.forEach((value, key) => {\r\n      body[key] = value;\r\n    });\r\n\r\n    postData(body)\r\n      .then(response => {\r\n        if (response.status !== 200) {\r\n          throw new Error('Network status is not 200');\r\n        }\r\n\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        if (data.error_no === 0) {\r\n\r\n          setTimeout(() => {\r\n            modalLoader.style.display = 'none';\r\n            modalAfter.style.display = 'block';\r\n          }, 2000);\r\n\r\n        } else if (data.error_no > 0) {\r\n\r\n          setTimeout(() => {\r\n            modalLoader.style.display = 'none';\r\n            modalRegistration.style.display = 'block';\r\n\r\n            modalError.textContent = data.error_text;\r\n            modalError.style.display = 'block';\r\n          }, 2000);\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n\r\n        setTimeout(() => {\r\n          modalLoader.style.display = 'none';\r\n          modalRegistration.style.display = 'block';\r\n          modalError.style.display = 'block';\r\n        }, 2000);\r\n      });\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  navigation();\r\n  quiz();\r\n});"]}